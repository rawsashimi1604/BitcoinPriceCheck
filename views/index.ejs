<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">

    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">

    <link rel="stylesheet" href="styles.css">

</head>
<body>
    <main>

       

        <div class="bitcoin-price-check">
            <header>
                <h1>Crypto Price Check</h1>
                <i class="fa-brands fa-bitcoin"></i>
            </header>
            
            <div class="main-wrapper">
                <section>
                    <form id="get-price-form" method="post">
                        <div>
                            <label for="coin">Coin:</label>
                            <input type="text" name="coin" id="coin" placeholder="<%= coin %>">
                        </div>
                        
                        <div>
                            <label for="curr">Currency:</label>
                            <input type="text" name="curr" id="curr" placeholder="<%= curr %>">
                        </div>
        
                        <input type="submit" value="Get Price">
                    </form>
                </section>
                
    
                <section class="price-container">
                    <span class="price-label"><%= coin + curr %></span>
                    <h2 class="price"><%= price %> <%= curr %></h2>
                </section>
            </div>
            

            <button id="data-button">Show Data Symbols</button>
            
            <section class="tables fade-inactive fade-active">
                <!-- Coin Table -->
                <table>
                    <tr>
                      <th>Code</th>
                      <th>Coin</th>
                    </tr>
                    <% for (let i  = 0; i < allCurrencies.length; i++) { %>
                        <% if (allCurrencies[i].details.type === "crypto") { %>
                            <tr>
                                <td><%= allCurrencies[i].id %></td>
                                <td><%= allCurrencies[i].name %></td>
                            </tr>
                        <% } %>
                    <% } %>
                </table>

                <!-- Currency table -->
                <table>
                    <tr>
                      <th>Code</th>
                      <th>Currency</th>
                    </tr>
                    <% for (let i  = 0; i < allFiat.length; i++) { %>
                        <tr>
                            <td><%= allFiat[i].id %></td>
                            <td><%= allFiat[i].name %></td>
                        </tr>
                    <% } %>
                </table>
            </section>
            
            <footer>
                <span>Developed using the Coinbase API.</span>
                <a href="https://github.com/rawsashimi1604/BitcoinPriceCheck">Github</a>
            </footer>
        </div>
    </main>

    <script src="tables.js"></script>

    <% if (!success) { %>
        <script>
            alert("Failed to get price, please check your inputs.")
        </script>
    <% } %>
</body>
</html>